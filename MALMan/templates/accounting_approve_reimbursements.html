{% extends "base.html" %}
{% set category = "accounting" %}
{% block title %}Approve reimbursements{% endblock %}
{% block head %}
{{ super() }}
<script type="text/javascript" src="/static/jquery-latest.js"></script> 
<script type="text/javascript" src="/static/jquery.tablesorter.js"></script> 
<script type="text/javascript">
        $(function() { $("#transactions").tablesorter(); } ); 
</script>
    <link rel="stylesheet" type="text/css" href="/static/Pikaday/pikaday.css" />
{% endblock %}
{% block content %}
{% if requests|list|count > 0 %}
    <table id="transactions">
        <thead>
            <tr>
                <th>Advance date</th>
                <th>Amount</th>
                <th>Member</th>
                <th>Description</th>
                <th>Approve</th>
            </tr>
        </thead>
        <tbody>
            {% for request in requests %}
            <tr>
                <td>{{ request.advance_date }}</td>
                <td>â‚¬{{ request.amount|replace('-','') }}</td>
                <td>{{ request.to_from }}</td>
                <td>{{ request.description }}</td>
                <td><a href="/accounting/approve_{{request.id}}">approve!</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% else %}
    <p>There are no pending reimbursement requests!</p>
{%- endif %}
<script src="/static/Pikaday/moment.js"></script>
<script src="/static/Pikaday/pikaday.js"></script>
<script>
    var picker = new Pikaday({
        field: document.getElementById('date'),
        format: 'YYYY-MM-DD',
        onSelect: function() {
            console.log(this.getMoment().format('YYYY-MM-DD'));
        }
    });
</script>
{% endblock %}
