{%- macro render_field_with_errors(field) -%}
  <p>{{ field.label }}{{ field(**kwargs)|safe }}
    {%- if field.errors -%}
      {%- for error in field.errors -%}
        <span style="color: red; display: block;">{{ error }}</span>
      {%- endfor -%}
    {%- endif -%}
  </p>
{%- endmacro -%}

{% macro render_field(field) %}
  <p>{{ field(**kwargs)|safe }}</p>
{% endmacro %}

{%- macro render_pagination(pagination) -%}
    {% if pagination.iter_pages()|list|count > 1 %}
    <div class=pagination>
    {%- for page in pagination.iter_pages() %}
        {% if page %}
            {% if page != pagination.page %}
                <a href="{{ url_for_other_page(page) }}">{{ page }}</a>
            {% else %}
                <strong>{{ page }}</strong>
            {% endif %}
        {% else %}
            <span class=ellipsis>â€¦</span>
        {% endif %}
    {%- endfor %}
    {% if pagination.has_next %}
        <a href="{{ url_for_other_page(pagination.page + 1) }}">Next &raquo;</a>
    {% endif %}
    </div>
    {% endif %}
{%- endmacro -%}

{%- macro datepicker(element) -%}
    <script type="text/javascript" src="//cdn.jsdelivr.net/bootstrap.datepicker/0.1/js/bootstrap-datepicker.js"></script>
    <script>
        $(document).ready(function() {
            $('#{{element}}').datepicker({
                format: 'yyyy-mm-dd'
            });
        })
    </script>
{%- endmacro -%}

{%- macro tablesorter(element) -%}
    <script type="text/javascript" src="//cdn.jsdelivr.net/tablesorter/2.0.5b/jquery.tablesorter.js"></script>
    <script type="text/javascript">
        $(function() { $("{{element}}").tablesorter(); } );
    </script>
{%- endmacro -%}

{%- macro lightbox() -%}
    <script type="text/javascript" src="//cdn.jsdelivr.net/fancybox/2.1.4/jquery.fancybox.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            $(".lightbox").fancybox({
                helpers: {
                    title : {
                        type : 'inside'
                    },
                }
            });
        });
    </script>
{%- endmacro -%}
