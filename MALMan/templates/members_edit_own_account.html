{% extends "base.html" %}
{% set category = "account" %}
{% block title %}Edit my account{% endblock %}
{% block head %}
    {{ super() }}
    <link rel="stylesheet" type="text/css" href="/static/Pikaday/pikaday.css" />
{% endblock %}
{% block content %}

{% from "security/_macros.html" import render_field_with_errors %}
<form method="POST" class="cf">
    {{ form.hidden_tag() }}
    <h2>Login info</h2>
    {{ render_field_with_errors(form.email) }}
    <p><a href="members/edit_password">click here to edit your password</a></p>
    <h2>Personal info</h2>
    {{ render_field_with_errors(form.name) }}
    {{ render_field_with_errors(form.date_of_birth) }}
    {{ render_field_with_errors(form.telephone) }}
    {{ render_field_with_errors(form.street) }}
    {{ render_field_with_errors(form.number) }}
    {{ render_field_with_errors(form.bus) }}
    {{ render_field_with_errors(form.postalcode) }}
    {{ render_field_with_errors(form.city) }}
    <h2>Privacy settings</h2>
    {{ render_field_with_errors(form.show_email) }}
    {{ render_field_with_errors(form.show_telephone) }}
    {{ form.submit }}
</form>
<script src="/static/Pikaday/moment.js"></script>
<script src="/static/Pikaday/pikaday.js"></script>
<script>
    var picker = new Pikaday({
        field: document.getElementById('date_of_birth'),
        format: 'YYYY-MM-DD',
        onSelect: function() {
            console.log(this.getMoment().format('YYYY-MM-DD'));
        }
    });
</script>
{% endblock %}
